<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Interactive Thesis Map</title>
  <!-- Cytoscape.js from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/cytoscape@3.20.0/dist/cytoscape.min.js"></script>
  <style>
    /* Reset & base styles */
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
      background-color: #f8f8f8;
    }
    /* Full-viewport Cytoscape container */
    #cy {
      width: 100%;
      height: 100%;
      display: block;
    }
    /* Modal overlay styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    .modal-overlay.active {
      display: flex;
    }
    /* Modal content box */
    .modal-content {
      background: #fff;
      border-radius: 8px;
      width: 90%;
      max-width: 600px;
      max-height: 90%;
      overflow-y: auto;
      padding: 20px;
      position: relative;
      animation: fadeIn 0.3s ease-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .modal-header {
      font-size: 1.5em;
      margin-bottom: 10px;
    }
    .modal-close {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 1.5em;
      cursor: pointer;
    }
    /* Accordion styles */
    .accordion {
      border-top: 1px solid #ccc;
      margin-top: 15px;
    }
    .accordion-item {
      border-bottom: 1px solid #ccc;
    }
    .accordion-header {
      padding: 10px;
      cursor: pointer;
      background: #eee;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
      padding: 0 10px;
      background: #fafafa;
    }
    .accordion-content p {
      margin: 10px 0;
    }
    .accordion-item.active .accordion-content {
      padding: 10px;
      max-height: 300px; /* Adjust as needed */
    }
  </style>
</head>
<body>
  <!-- Cytoscape container -->
  <div id="cy"></div>

  <!-- Modal for section details -->
  <div id="modal" class="modal-overlay">
    <div class="modal-content">
      <span class="modal-close" id="modal-close">&times;</span>
      <div id="modal-header" class="modal-header"></div>
      <div id="modal-body"></div>
    </div>
  </div>

  <script>
    /********* Data for Modal Content *********/
    // Content data for each section node
    const sectionContent = {
      postFordism: {
        header: "ðŸ‘ Post-Fordism & New Capitalisms",
        concepts: [
          {
            title: "The Shift to Post-Fordism",
            summary: "Explores how deregulation and flexibility redefined labor and capital.",
            details: "In this concept, we discuss the transition from rigid Fordist structures to more flexible, innovation-driven systems. Key elements include deregulation, global networks, and the rise of immaterial labor. References: Harvey (2005), Fischer (2010b).",
            link: "#"
          },
          {
            title: "Emergence of the Network Human",
            summary: "Highlights the evolution of subjectivity and the flexible worker.",
            details: "The network human emerges as a response to the need for adaptability in a post-Fordist economy. This concept explains how workers now navigate flexible, decentralized work environments. References: Jessop (1992), Hardt & Negri (2000).",
            link: "#"
          },
          {
            title: "AI as a Catalyst",
            summary: "Discusses how AI accelerates and amplifies new economic models.",
            details: "AI is positioned as a key driver in the transition towards new capitalisms by enabling rapid innovation and data-driven decision-making. References: Lee (2018), Fischer et al. (2022).",
            link: "#"
          }
        ]
      },
      itDigital: {
        header: "ðŸ’» IT & Digital Discourse",
        concepts: [
          {
            title: "IT as a Social Field",
            summary: "Defines IT beyond industry, as a structured space of influence.",
            details: "This concept delves into how IT shapes societal structures, establishing its own norms and rules. It is seen not just as a technical field but as a social arena. References: Bourdieu (1990), Fischer (2010a).",
            link: "#"
          },
          {
            title: "Narratives of Digital Progress",
            summary: "Explores how digital discourse legitimizes endless innovation.",
            details: "Digital narratives create a vision of continuous progress and transformation, influencing public perceptions and policy. References: Fischer (2010b), Harvey (2005).",
            link: "#"
          },
          {
            title: "Influence of Tech Elites",
            summary: "Examines the role of influential figures in shaping digital discourse.",
            details: "Tech elites use their platforms to define the direction of digital innovation, impacting both industry and society. References: Andreessen (2023), Altman (2024).",
            link: "#"
          }
        ]
      },
      b2bSeller: {
        header: "ðŸ‘¤ B2B IT Seller",
        concepts: [
          {
            title: "Dual Role of Sellers",
            summary: "Sellers both promote and experience digital transformation.",
            details: "This concept highlights the paradox where B2B sellers are champions of AI while also adapting to its challenges in their daily practices. References: Elhajjar et al. (2023), Paschen et al. (2020).",
            link: "#"
          },
          {
            title: "Challenges of AI Adoption",
            summary: "Examines the hurdles in integrating AI into sales practices.",
            details: "Explores the practical challenges faced by sellers in adopting AI tools, including resistance and the need for upskilling. References: LinkedIn & Ipsos (2024), Dover (2022).",
            link: "#"
          },
          {
            title: "Impact on Productivity & Relationships",
            summary: "Details how AI reshapes customer engagement and productivity.",
            details: "Focuses on the measurable impacts of AI on sales performance and the evolving nature of seller-customer relationships. References: Yee et al. (2024), Paschen et al. (2020).",
            link: "#"
          }
        ]
      },
      b2bSales: {
        header: "ðŸ“Š B2B Sales Process",
        concepts: [
          {
            title: "AI-Driven Prospecting",
            summary: "Covers the use of AI for smarter lead scoring and targeting.",
            details: "Describes how AI tools streamline the prospecting phase by analyzing data to qualify leads more effectively. References: ZoomInfo, 6sense.",
            link: "#"
          },
          {
            title: "Personalized Engagement",
            summary: "Highlights the role of AI in tailoring sales communication.",
            details: "This section discusses how AI enables real-time, personalized interactions with prospects, improving engagement. References: Salesloft, Outreach.",
            link: "#"
          },
          {
            title: "Optimizing Post-Sale Interactions",
            summary: "Focuses on AI's role in enhancing customer retention.",
            details: "Details how automated follow-ups and customer analytics improve post-sale service and retention. References: Zendesk, Totango.",
            link: "#"
          }
        ]
      },
      gaps: {
        header: "ðŸ” Gaps & Opportunities",
        concepts: [
          {
            title: "Research Limitations",
            summary: "Discusses the disconnect between theory and practice in AI adoption.",
            details: "Highlights the challenges in aligning academic frameworks with the real-world integration of AI in sales. References: Hunter (2019), Chen (2021).",
            link: "#"
          },
          {
            title: "Managerial vs. Practitioner Perspectives",
            summary: "Explores differences in how AIâ€™s impact is viewed across levels.",
            details: "Examines the disparity between managerial narratives and the experiences of frontline sales professionals. References: Rodriguez & Peterson (2023).",
            link: "#"
          },
          {
            title: "Future Research Directions",
            summary: "Identifies key questions and areas ripe for further study.",
            details: "Outlines emerging opportunities for research to better understand AI's transformative role. References: Paschen et al. (2020).",
            link: "#"
          }
        ]
      },
      aiMaking: {
        header: "ðŸŒ€ AI in the Making",
        concepts: [
          {
            title: "Emergence through Practice",
            summary: "Explores how AI evolves via real-world interactions.",
            details: "Focuses on the dynamic nature of AI as it adapts through everyday use and continuous feedback. References: Scott & Orlikowski (2025).",
            link: "#"
          },
          {
            title: "Sociomaterial Interactions",
            summary: "Examines the interplay between technology and human practice.",
            details: "Highlights how the co-construction of AI is influenced by the social and material contexts in which it operates. References: Orlikowski (2008).",
            link: "#"
          },
          {
            title: "Co-constructing AI",
            summary: "Describes AI as a collaborative, evolving process.",
            details: "This concept underlines that AI is not fixed but continuously shaped by its users and their practices. References: Faraj et al. (2018).",
            link: "#"
          }
        ]
      }
    };

    /********* Cytoscape.js Setup *********/
    // Define nodes and edges
    const cy = cytoscape({
      container: document.getElementById('cy'),
      style: [
        {
          selector: 'node',
          style: {
            'background-color': '#0074D9',
            'label': 'data(label)',
            'color': '#fff',
            'text-valign': 'center',
            'text-halign': 'center',
            'font-size': '12px',
            'width': '60px',
            'height': '60px'
          }
        },
        {
          selector: 'node#ai',
          style: {
            'background-color': '#FF4136',
            'width': '80px',
            'height': '80px',
            'font-size': '16px'
          }
        },
        {
          selector: 'edge',
          style: {
            'width': 3,
            'line-color': '#ccc'
          }
        }
      ],
      elements: {
        nodes: [
          { data: { id: 'ai', label: 'ðŸ¤– AI' } },
          { data: { id: 'postFordism', label: 'ðŸ‘ Post-Fordism & New Capitalisms' } },
          { data: { id: 'itDigital', label: 'ðŸ’» IT & Digital Discourse' } },
          { data: { id: 'b2bSeller', label: 'ðŸ‘¤ B2B IT Seller' } },
          { data: { id: 'b2bSales', label: 'ðŸ“Š B2B Sales Process' } },
          { data: { id: 'gaps', label: 'ðŸ” Gaps & Opportunities' } },
          { data: { id: 'aiMaking', label: 'ðŸŒ€ AI in the Making' } }
        ],
        edges: [
          { data: { source: 'ai', target: 'postFordism' } },
          { data: { source: 'ai', target: 'itDigital' } },
          { data: { source: 'ai', target: 'b2bSeller' } },
          { data: { source: 'ai', target: 'b2bSales' } },
          { data: { source: 'ai', target: 'gaps' } },
          { data: { source: 'ai', target: 'aiMaking' } }
        ]
      },
      layout: {
        name: 'preset'
      },
      userPanningEnabled: true,
      userZoomingEnabled: true
    });

    // Set initial positions manually for a clear arrangement
    cy.nodes().forEach(function(node) {
      switch (node.id()) {
        case 'ai':
          node.position({ x: 400, y: 300 });
          break;
        case 'postFordism':
          node.position({ x: 400, y: 150 }); // above
          break;
        case 'itDigital':
          node.position({ x: 550, y: 150 }); // top right
          break;
        case 'b2bSeller':
          node.position({ x: 250, y: 300 }); // left
          break;
        case 'b2bSales':
          node.position({ x: 550, y: 300 }); // right
          break;
        case 'gaps':
          node.position({ x: 300, y: 450 }); // bottom left
          break;
        case 'aiMaking':
          node.position({ x: 500, y: 450 }); // bottom right
          break;
      }
    });

    // Make nodes draggable
    cy.nodes().grabify();

    /********* Modal & Accordion Functionality *********/
    const modal = document.getElementById('modal');
    const modalHeader = document.getElementById('modal-header');
    const modalBody = document.getElementById('modal-body');
    const modalClose = document.getElementById('modal-close');

    // Close modal when clicking close button or overlay outside content
    modalClose.addEventListener('click', () => modal.classList.remove('active'));
    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.classList.remove('active');
      }
    });

    // Function to create accordion item HTML
    function createAccordionItem(concept) {
      const item = document.createElement('div');
      item.className = 'accordion-item';
      
      const header = document.createElement('div');
      header.className = 'accordion-header';
      header.textContent = concept.title;
      const indicator = document.createElement('span');
      indicator.textContent = '+';
      header.appendChild(indicator);
      
      const content = document.createElement('div');
      content.className = 'accordion-content';
      content.innerHTML = `<p><strong>Summary:</strong> ${concept.summary}</p>
                           <p>${concept.details}</p>
                           <p><a href="${concept.link}" target="_blank">Further Reading</a></p>`;
      
      header.addEventListener('click', () => {
        const isActive = item.classList.contains('active');
        // Toggle all accordion items in modalBody
        const allItems = modalBody.querySelectorAll('.accordion-item');
        allItems.forEach(i => {
          i.classList.remove('active');
          const sp = i.querySelector('.accordion-header span');
          if(sp) sp.textContent = '+';
        });
        if (!isActive) {
          item.classList.add('active');
          indicator.textContent = '-';
        }
      });
      
      item.appendChild(header);
      item.appendChild(content);
      return item;
    }

    // When a node is clicked, center it, zoom, and show modal with its content.
    cy.on('tap', 'node', function(evt){
      const nodeId = this.id();
      if (nodeId === 'ai') return; // central node doesn't open modal
      
      // Animate pan/zoom to the clicked node
      cy.animate({
        center: { eles: this },
        zoom: 2,
        duration: 500
      });

      // Populate modal with the corresponding content
      const contentData = sectionContent[nodeId];
      if (contentData) {
        modalHeader.textContent = contentData.header;
        modalBody.innerHTML = ''; // Clear previous content
        contentData.concepts.forEach(concept => {
          modalBody.appendChild(createAccordionItem(concept));
        });
        modal.classList.add('active');
      }
    });
  </script>
</body>
</html>